name: traefik

on:
  workflow_dispatch:
  push:
    paths:
      - images/traefik/Dockerfile
    branches:
      - main

jobs:
  call-workflow-passing-data:
    uses: Joker9944/k8s-config/.github/workflows/docker-publish.yml@main
    with:
      image_name: joker9944/traefik
      upstream_image_name: traefik
      context: images/traefik
    secrets: inherit
    permissions:
      packages: write
      id-token: write
      contents: read
